fn read size as int -> *u8 =
  let buf = alloc size in
    do libc_read stdin buf size then buf

fn print ptr size as *u8, int -> () = 
  do libc_write stdout ptr size then ()

fn println ptr size as *u8, int -> () =
  do print ptr size then print "\n" 1

@[extern "write", platform "x86_64-linux-gnu"]
fn libc_write as int, *u8, int -> int

@[extern "read", platform "x86_64-linux-gnu"]
fn libc_read as int, *u8, int -> int

val stdout = 1
val stdin  = 0
